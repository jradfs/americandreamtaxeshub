# UI Components Implementation

## Overview
Implementation guide for the UI components of the tax practice automation system.

## Component Structure

```typescript
src/components/
├── tax/                 # Tax-specific components
│   ├── TaxReturnList
│   ├── DocumentUpload
│   └── ClientOverview
├── shared/              # Shared components
│   ├── DataGrid
│   ├── Forms
│   └── Navigation
└── ai/                  # AI-specific components
    ├── ProcessingStatus
    └── AnalysisResults
```

## Core Components

### Tax Return List
```typescript
// src/components/tax/TaxReturnList.tsx
export function TaxReturnList({ clientId }: { clientId: string }) {
  const { data, isLoading } = useTaxReturns(clientId)
  
  return (
    <DataGrid
      data={data}
      columns={[
        { field: 'tax_year', header: 'Year' },
        { field: 'status', header: 'Status' },
        { field: 'due_date', header: 'Due Date' },
        {
          field: 'actions',
          header: 'Actions',
          render: (row) => (
            <ActionButtons taxReturn={row} />
          )
        }
      ]}
    />
  )
}
```

### Document Upload
```typescript
// src/components/tax/DocumentUpload.tsx
export function DocumentUpload({ 
  taxReturnId 
}: { 
  taxReturnId: string 
}) {
  const handleUpload = async (files: FileList) => {
    // Implementation
  }
  
  return (
    <DropZone onDrop={handleUpload}>
      <UploadInstructions />
      <ProcessingStatus />
    </DropZone>
  )
}
```

### AI Processing Status
```typescript
// src/components/ai/ProcessingStatus.tsx
export function ProcessingStatus({ 
  documentId 
}: { 
  documentId: string 
}) {
  const { status, progress } = useProcessingStatus(documentId)
  
  return (
    <div>
      <ProgressBar value={progress} />
      <StatusMessage status={status} />
    </div>
  )
}
```

## Form Components

### Tax Return Form
```typescript
// src/components/tax/TaxReturnForm.tsx
export function TaxReturnForm({ 
  clientId 
}: { 
  clientId: string 
}) {
  const form = useForm({
    defaultValues: {
      tax_year: new Date().getFullYear(),
      status: 'draft',
      client_id: clientId
    }
  })
  
  return (
    <Form {...form}>
      <FormField
        name="tax_year"
        label="Tax Year"
        component={Select}
        options={getTaxYears()}
      />
      {/* Other fields */}
    </Form>
  )
}
```

## Layout Components

### Dashboard Layout
```typescript
// src/components/layouts/DashboardLayout.tsx
export function DashboardLayout({ 
  children 
}: { 
  children: React.ReactNode 
}) {
  return (
    <div className="flex min-h-screen">
      <Sidebar />
      <main className="flex-1 p-6">
        {children}
      </main>
    </div>
  )
}
```

## Integration with AI Features

### Analysis Results
```typescript
// src/components/ai/AnalysisResults.tsx
export function AnalysisResults({ 
  documentId 
}: { 
  documentId: string 
}) {
  const { data } = useDocumentAnalysis(documentId)
  
  return (
    <div>
      <SummaryCard data={data.summary} />
      <DetailsList items={data.details} />
      <ActionButtons actions={data.recommendations} />
    </div>
  )
}
```

## Files to Create/Update

1. Core Components:
   - `src/components/tax/TaxReturnList.tsx`
   - `src/components/tax/DocumentUpload.tsx`
   - `src/components/ai/ProcessingStatus.tsx`

2. Forms:
   - `src/components/tax/TaxReturnForm.tsx`
   - `src/components/client/ClientForm.tsx`

3. Layouts:
   - `src/components/layouts/DashboardLayout.tsx`
   - `src/components/layouts/AuthLayout.tsx`

## Testing

```typescript
// src/__tests__/components/TaxReturnList.test.tsx
describe('TaxReturnList', () => {
  it('renders tax returns correctly', () => {
    // Test implementation
  })
  
  it('handles actions properly', () => {
    // Test implementation
  })
})
```

## Next Steps
After implementing UI components:
1. Move to [Testing Implementation](./04-TESTING.md)
2. Add error boundaries
3. Implement loading states